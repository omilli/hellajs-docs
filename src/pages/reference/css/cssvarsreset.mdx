---
title: cssVarsReset
description: Removes all CSS variables from the DOM.
layout: ../../../layouts/MainLayout.astro
---

# cssVarsReset

Removes all CSS variables from the DOM and clears the CSS variables system.

## API

```typescript
function cssVarsReset(): void
```

**Parameters:**
- None

**Returns:**
- `void`

## Basic Usage

### Complete Variables Reset

Removes all CSS variables from the `:root` element and clears internal state.

```jsx
import { cssVars, cssVarsReset } from '@hellajs/css';

// Create some CSS variables
cssVars({
  colors: { primary: 'blue', secondary: 'red' },
  spacing: { small: '8px', large: '24px' }
});

// Variables are now in the DOM:
// :root { --colors-primary: blue; --colors-secondary: red; ... }

// Reset all variables
cssVarsReset();

// All variables removed from DOM
```

### Testing Scenarios

Commonly used in test setups to ensure clean variable state between tests.

```jsx
import { describe, test, beforeEach } from 'bun:test';
import { cssVars, cssVarsReset } from '@hellajs/css';

describe('CSS variables tests', () => {
  beforeEach(() => {
    // Clean variable state for each test
    cssVarsReset();
  });

  test('creates variables', () => {
    const vars = cssVars({ theme: { color: 'red' } });
    expect(vars.theme.color).toBe('var(--theme-color)');
  });

  test('starts fresh', () => {
    // Previous test's variables are gone
    const vars = cssVars({ different: { value: 'blue' } });
    expect(vars.different.value).toBe('var(--different-value)');
  });
});
```

### Theme Switching

Clear existing theme variables before applying new ones.

```jsx
import { cssVars, cssVarsReset } from '@hellajs/css';

const applyTheme = (themeName) => {
  // Clear existing theme variables
  cssVarsReset();
  
  // Apply new theme
  if (themeName === 'dark') {
    cssVars({
      colors: {
        background: '#000',
        text: '#fff',
        primary: '#3b82f6'
      }
    });
  } else {
    cssVars({
      colors: {
        background: '#fff',
        text: '#000',
        primary: '#1d4ed8'
      }
    });
  }
};
```

## Key Concepts

### Complete Variables Reset

The CSS variables reset function provides **complete variable system cleanup** by removing all CSS variables and clearing internal state.

**Reset Architecture:**
```
cssVarsReset() → Clear Variables Cache → Remove DOM Element → Reset State
       ↓               ↓                    ↓              ↓
     Clear         Variable Map        hella-vars      Fresh Start
```

**System Components Reset:**
- **Variables Element** - Removes `hella-vars` style element from DOM
- **Internal Cache** - Clears variable processing cache and mappings
- **:root Properties** - Removes all CSS custom properties from document
- **Fresh State** - Enables clean variable recreation without conflicts

### Isolation Guarantee

Reset ensures **complete variable isolation** between application phases or theme switches.

```jsx
// Build up variable state
cssVars({ colors: { primary: 'blue', secondary: 'red' } });
cssVars({ spacing: { sm: '8px', lg: '24px' } });

// DOM contains: :root { --colors-primary: blue; --colors-secondary: red; ... }

cssVarsReset(); // Complete variable cleanup

// Fresh start - no variable conflicts
cssVars({ theme: { background: '#fff', text: '#000' } });
// DOM now contains only: :root { --theme-background: #fff; --theme-text: #000; }
```

**Reset Benefits:**
- **Clean State** - Guaranteed fresh variable environment
- **Memory Cleanup** - Prevents variable accumulation and conflicts
- **Predictable Behavior** - Consistent starting point for theme changes
- **Complete Isolation** - No leftover variables from previous configurations

## Important Considerations

### Global Impact

`cssVarsReset()` affects the entire application - all CSS variables are removed.

```jsx
// Component using CSS variables
const ThemedButton = () => {
  const vars = cssVars({ button: { color: 'blue' } });
  const buttonClass = css({ color: vars.button.color });
  
  return <button class={buttonClass}>Click Me</button>;
};

// Somewhere else in the app
cssVarsReset(); // ThemedButton's variables are gone!

// Component may need to recreate variables or appear unstyled
```

### CSS Rules Remain

`cssVarsReset()` only removes CSS variables, not CSS rules that reference them.

```jsx
// Create variables and use them in CSS
const vars = cssVars({ theme: { color: 'red' } });
const textClass = css({ color: vars.theme.color }); // Uses var(--theme-color)

cssVarsReset(); // Removes --theme-color variable

// CSS rule still exists but references non-existent variable
// .c1 { color: var(--theme-color); } // --theme-color is undefined
```

### Signal Integration

When using with reactive signals, reset clears variables but preserves signal values.

```jsx
import { signal, computed } from '@hellajs/core';

const color = signal('blue');
const vars = computed(() => cssVars({ theme: { color: color() } }));

// Variables created in DOM
console.log(vars().theme.color); // 'var(--theme-color)'

cssVarsReset(); // Clears CSS variables from DOM

// Signal retains its value - variables recreated on next access
console.log(color()); // 'blue'
console.log(vars().theme.color); // 'var(--theme-color)' (recreated)
```
